"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[730],{4707:function(n,t,i){i.r(t),i.d(t,{default:function(){return Zn}});var e,c,o,l,r,s,d,a,h,u,x,p,f,Z,j,v,g,m,y,P,b,C,w,k,N,O=i(885),q=i(168),E=i(2791),S=i(102),U=i(2419),D=i(5585),H=i(8789),z=i(1168),I=i(338),R=i(4569),T=i.n(R),$=i(3484),A=i(3400),M=i(8155),G=i(6871),Y=i(184),B=H.ZP.div(e||(e=(0,q.Z)([""]))),F=H.ZP.div(c||(c=(0,q.Z)(["\n  padding: 20px;\n  ","  \n"])),(0,I.a)({padding:"10px"})),K=H.ZP.h1(o||(o=(0,q.Z)(["\n  font-weight: 300;\n  text-align: center;\n"]))),V=H.ZP.div(l||(l=(0,q.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px;\n"]))),W=H.ZP.button(r||(r=(0,q.Z)(["\n  padding: 10px;\n  font-weight: 600;\n  cursor: pointer;\n  border: ",";\n  background-color: ",";\n  color: ",";\n"])),(function(n){return"filled"===n.type&&"none"}),(function(n){return"filled"===n.type?"black":"transparent"}),(function(n){return"filled"===n.type&&"white"})),X=H.ZP.div(s||(s=(0,q.Z)(["\n  display: flex;\n  justify-content: space-between;\n  ","\n"])),(0,I.a)({flexDirection:"column"})),_=H.ZP.div(d||(d=(0,q.Z)(["\n  flex: 3;\n"]))),J=H.ZP.div(a||(a=(0,q.Z)(["\n  display: flex;\n  justify-content: space-between;\n  ","\n"])),(0,I.a)({flexDirection:"column"})),L=H.ZP.div(h||(h=(0,q.Z)(["\n  flex: 2;\n  display: flex;\n"]))),Q=H.ZP.img(u||(u=(0,q.Z)(["\n  width: 200px;\n"]))),nn=H.ZP.div(x||(x=(0,q.Z)(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]))),tn=H.ZP.span(p||(p=(0,q.Z)([""]))),en=H.ZP.span(f||(f=(0,q.Z)([""]))),cn=H.ZP.span(Z||(Z=(0,q.Z)([""]))),on=H.ZP.div(j||(j=(0,q.Z)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),ln=H.ZP.div(v||(v=(0,q.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),rn=H.ZP.div(g||(g=(0,q.Z)(["\n  font-size: 24px;\n  margin: 5px;\n  ","\n"])),(0,I.a)({margin:"5px 15px"})),sn=H.ZP.div(m||(m=(0,q.Z)(["\n  font-size: 30px;\n  font-weight: 200;\n  ","\n"])),(0,I.a)({marginBottom:"20px"})),dn=H.ZP.hr(y||(y=(0,q.Z)(["\n  background-color: #eee;\n  border: none;\n  height: 1px;\n"]))),an=H.ZP.div(P||(P=(0,q.Z)(["\n  flex: 1;\n  border: 0.5px solid lightgray;\n  border-radius: 10px;\n  padding: 20px;\n  height: 50vh;\n"]))),hn=H.ZP.h1(b||(b=(0,q.Z)(["\n  font-weight: 200;\n"]))),un=H.ZP.div(C||(C=(0,q.Z)(["\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ",";\n  font-size: ",";\n"])),(function(n){return"total"===n.type&&"500"}),(function(n){return"total"===n.type&&"24px"})),xn=H.ZP.span(w||(w=(0,q.Z)([""]))),pn=H.ZP.span(k||(k=(0,q.Z)([""]))),fn=H.ZP.button(N||(N=(0,q.Z)(["\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n  cursor:pointer;\n"])));function Zn(){var n=(0,E.useContext)($.A9),t=n.cartContext,i=n.setCartContext,e=(0,E.useContext)($.St),c=e.userContext,o=(e.setUserContext,null===c||void 0===c?void 0:c.id),l=(0,E.useState)(Number(0)),r=(0,O.Z)(l,2),s=r[0],d=r[1],a=(0,G.s0)();function h(){T().get("http://localhost:2000/api/v1/profile/".concat(o)).then((function(n){i(n.data.data.profile.cart)})).catch((function(n){console.log(n)}))}function u(n){n.preventDefault(),T().post("http://localhost:2000/create-checkout-session",{subtotal:s,cartContext:t}).then((function(n){n.data.url&&(window.location.href=n.data.url)})).catch((function(n){console.log(n)}))}return(0,E.useEffect)((function(){null!==c&&void 0!==c&&c.id&&T().get("http://localhost:2000/api/v1/profile/".concat(o)).then((function(n){i(n.data.data.profile.cart)})).catch((function(n){console.log(n)}))}),[c]),(0,E.useEffect)((function(){t.length>0&&function(){var n=0;t.map((function(t,i){return n+=t.quantity*t.itemid.price})),d(n)}()}),[t]),0===(null===t||void 0===t?void 0:t.length)||!1===t?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(S.Z,{}),(0,Y.jsxs)(F,{children:[(0,Y.jsx)(K,{children:"Your Cart is empty"}),(0,Y.jsx)(V,{children:(0,Y.jsx)(W,{style:{margin:"auto"},onClick:function(){a(M.Xq)},children:"CONTINUE SHOPPING"})})]})]}):(0,Y.jsx)(E.Fragment,{children:(0,Y.jsxs)(B,{children:[(0,Y.jsx)(S.Z,{}),(0,Y.jsxs)(F,{children:[(0,Y.jsx)(K,{children:"YOUR BAG"}),(0,Y.jsxs)(V,{children:[(0,Y.jsx)(W,{onClick:function(){a(M.Xq)},children:"CONTINUE SHOPPING"}),(0,Y.jsx)(W,{type:"filled",onClick:function(n){u(n)},children:"CHECKOUT NOW"})]}),(0,Y.jsxs)(X,{children:[(0,Y.jsxs)(_,{children:[null===t||void 0===t?void 0:t.map((function(n,t){return(0,Y.jsxs)(J,{children:[(0,Y.jsxs)(L,{children:[(0,Y.jsx)(Q,{src:n.itemid.imageurl.imageurl1}),(0,Y.jsxs)(nn,{children:[(0,Y.jsxs)(tn,{children:[(0,Y.jsx)("b",{children:"Product:"})," ",n.itemid.name]}),(0,Y.jsxs)(en,{children:[(0,Y.jsx)("b",{children:"ID:"})," ",n.itemid.itemid]}),n.itemid.isVariant&&(0,Y.jsxs)(cn,{children:[(0,Y.jsxs)("b",{children:[n.itemid.variantName,":"]})," ",n.variant]})]})]}),(0,Y.jsxs)(on,{children:[(0,Y.jsxs)(ln,{children:[(0,Y.jsx)(A.Z,{onClick:function(){!function(n,t){var i=t+1;T().put("http://localhost:2000/api/v1/profile/cart",{ownerid:o,itemid:n,quantity:i}).then((function(n){h()})).catch((function(n){console.log(n)}))}(n.itemid._id,n.quantity)},children:(0,Y.jsx)(U.Z,{})}),(0,Y.jsx)(rn,{children:n.quantity}),(0,Y.jsx)(A.Z,{onClick:function(){!function(n,t){var i=t-1;0===i?T().delete("http://localhost:2000/api/v1/profile/cart",{headers:{ownerid:o,itemid:n}}).then((function(n){h()})).catch((function(n){console.log(n)})):T().put("http://localhost:2000/api/v1/profile/cart",{ownerid:o,itemid:n,quantity:i}).then((function(n){h()})).catch((function(n){console.log(n)}))}(n.itemid._id,n.quantity)},children:(0,Y.jsx)(D.Z,{})})]}),(0,Y.jsxs)(sn,{children:[n.itemid.price,"$"]})]})]},t)})),(0,Y.jsx)(dn,{})]}),(0,Y.jsxs)(an,{children:[(0,Y.jsx)(hn,{children:"ORDER SUMMARY"}),(0,Y.jsxs)(un,{children:[(0,Y.jsx)(xn,{children:"Subtotal"}),(0,Y.jsxs)(pn,{children:["$ ",s]})]}),(0,Y.jsxs)(un,{children:[(0,Y.jsx)(xn,{children:"Estimated Shipping"}),(0,Y.jsx)(pn,{children:"$ 5.90"})]}),(0,Y.jsxs)(un,{children:[(0,Y.jsx)(xn,{children:"Shipping Discount"}),(0,Y.jsx)(pn,{children:"$ -5.90"})]}),(0,Y.jsxs)(un,{type:"total",children:[(0,Y.jsx)(xn,{children:"Total"}),(0,Y.jsxs)(pn,{children:["$ ",s]})]}),(0,Y.jsx)(fn,{onClick:function(n){u(n)},children:"CHECKOUT NOW"})]})]})]}),(0,Y.jsx)(z.Z,{})]})})}},2419:function(n,t,i){var e=i(4836);t.Z=void 0;var c=e(i(5649)),o=i(184),l=(0,c.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=l},5585:function(n,t,i){var e=i(4836);t.Z=void 0;var c=e(i(5649)),o=i(184),l=(0,c.default)((0,o.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.Z=l}}]);
//# sourceMappingURL=730.a9187e8d.chunk.js.map