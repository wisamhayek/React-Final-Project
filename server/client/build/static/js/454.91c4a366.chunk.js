"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[454],{3997:function(e,n,t){t.d(n,{Z:function(){return S}});var o=t(4942),r=t(1413),s=t(885),a=t(2791),i=t(4569),l=t.n(i),c=t(3484),d=t(8870),u=t(6151),x=t(890),h=t(8019),p=t(7391),g=t(8096),f=t(4925),m=t(8029),Z=t(3466),j=t(3400),w=t(3746),v=t(165),y=t(5872),b=t(184),C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"85%",md:"50%"},bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:"1rem",borderRadius:"1rem"};function S(e){var n=e.text,t=(0,a.useContext)(c.St),i=(t.userContext,t.setUserContext),S=(0,a.useState)(!1),k=(0,s.Z)(S,2),P=k[0],O=k[1],L=function(){O(!0),T(!0)},N=function(){O(!1),$(""),q(""),B("")},I=(0,a.useState)(!0),F=(0,s.Z)(I,2),E=F[0],T=F[1],A=(0,a.useState)(""),D=(0,s.Z)(A,2),G=D[0],q=D[1],W=(0,a.useState)(""),J=(0,s.Z)(W,2),U=J[0],B=J[1],M=(0,a.useState)(""),z=(0,s.Z)(M,2),R=z[0],H=z[1],K=(0,a.useState)(null),X=(0,s.Z)(K,2),Y=X[0],$=X[1],_=function(e){var n=e.credential;l().post("http://localhost:2000/api/google/login",{userToken:n}).then((function(e){i(e.data.user),localStorage.setItem("activeUser",JSON.stringify(e.data.user)),localStorage.setItem("userToken",JSON.stringify(e.data.token)),N()})).catch((function(e){$(e.response.data.message),console.log(e)}))},Q=(0,a.useState)({password:"",showPassword:!1}),V=(0,s.Z)(Q,2),ee=V[0],ne=V[1],te=function(e){return function(n){ne((0,r.Z)((0,r.Z)({},ee),{},(0,o.Z)({},e,n.target.value))),B(n.target.value)}},oe=function(){ne((0,r.Z)((0,r.Z)({},ee),{},{showPassword:!ee.showPassword}))},re=function(e){e.preventDefault()},se=""===U||""===G,ae=""===U||""===G||""===R;return(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Z,{color:"inherit",onClick:L,sx:{display:{xs:"none",md:"flex"}},children:n||"Login/Signup"}),(0,b.jsx)(u.Z,{color:"inherit",onClick:L,sx:{display:{xs:"flex",md:"none"}},children:n||"Login"}),(0,b.jsx)(h.Z,{open:P,onClose:N,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,b.jsx)(d.Z,{sx:C,children:(0,b.jsx)("div",{className:"loginPage",children:(0,b.jsxs)("div",{className:"loginForm",children:[(0,b.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2022/02/Dunder-Mifflin-Logo.png",alt:"logo"}),Y&&(0,b.jsx)("p",{style:{color:"red"},children:Y}),E&&(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(p.Z,{required:!0,id:"outlined-required",className:"emailInput",label:"Enter your email address",value:G,onChange:function(e){var n=e.target;return q(n.value)}}),(0,b.jsxs)(g.Z,{sx:{},variant:"outlined",children:[(0,b.jsx)(f.Z,{htmlFor:"outlined-adornment-password",children:"Password"}),(0,b.jsx)(m.Z,{id:"outlined-adornment-password",type:ee.showPassword?"text":"password",value:U,className:"passwordInput",onChange:te("password"),endAdornment:(0,b.jsx)(Z.Z,{position:"end",children:(0,b.jsx)(j.Z,{"aria-label":"toggle password visibility",onClick:oe,onMouseDown:re,edge:"end",children:ee.showPassword?(0,b.jsx)(v.Z,{}):(0,b.jsx)(w.Z,{})})}),label:"Password"})]}),(0,b.jsx)(u.Z,{color:"primary",disabled:se,className:"loginButton",variant:"contained",onClick:function(e){e.preventDefault(),l().post("http://localhost:2000/api/v1/users/login",{email:G,password:U}).then((function(e){i(e.data.user),localStorage.setItem("activeUser",JSON.stringify(e.data.user)),localStorage.setItem("userToken",JSON.stringify(e.data.token)),N()})).catch((function(e){$(e.response.data.message)}))},children:"Log in"}),(0,b.jsx)(y.kZ,{onSuccess:function(e){_(e)},onError:function(){console.log("Login Failed")}}),(0,b.jsxs)("p",{children:["Already have an account?",(0,b.jsx)(u.Z,{onClick:function(){T(!1)},children:"Signup"})]})]}),!E&&(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(p.Z,{required:!0,id:"outlined-required1",className:"namelInput",label:"Enter your full name",value:R,onChange:function(e){var n=e.target;return H(n.value)}}),(0,b.jsx)(p.Z,{required:!0,id:"outlined-required2",className:"emailInput",label:"Enter your email address",value:G,onChange:function(e){var n=e.target;return q(n.value)}}),(0,b.jsxs)(g.Z,{sx:{},variant:"outlined",children:[(0,b.jsx)(f.Z,{htmlFor:"outlined-adornment-password",children:"Password"}),(0,b.jsx)(m.Z,{id:"outlined-adornment-password",type:ee.showPassword?"text":"password",value:U,className:"passwordInput",onChange:te("password"),endAdornment:(0,b.jsx)(Z.Z,{position:"end",children:(0,b.jsx)(j.Z,{"aria-label":"toggle password visibility",onClick:oe,onMouseDown:re,edge:"end",children:ee.showPassword?(0,b.jsx)(v.Z,{}):(0,b.jsx)(w.Z,{})})}),label:"Password"})]}),(0,b.jsx)(u.Z,{disabled:ae,className:"loginButton",variant:"contained",onClick:function(e){e.preventDefault(),l().post("http://localhost:2000/api/v1/users/signup",{name:R,email:G,password:U}).then((function(e){i(e.data.user),localStorage.setItem("activeUser",JSON.stringify(e.data.user)),localStorage.setItem("userToken",JSON.stringify(e.data.token)),N()})).catch((function(e){$(e.message)}))},children:"Sign Up"}),(0,b.jsx)(y.kZ,{onSuccess:function(e){_(e)},onError:function(){console.log("Login Failed")},text:"signup_with",context:"signup"}),(0,b.jsxs)(x.Z,{children:["Already have an account?",(0,b.jsx)(u.Z,{onClick:function(){T(!0)},children:" Sign In"})]})]})]})})})})]})}},102:function(e,n,t){t.d(n,{Z:function(){return J}});var o=t(4942),r=t(1413),s=t(885),a=t(2791),i=t(6871),l=t(4395),c=t(8870),d=t(4663),u=t(3400),x=t(890),h=t(5422),p=t(8008),g=t(1614),f=t(3044),m=t(6151),Z=t(6520),j=t(4387),w=t(8249),v=t(9953),y=t(4721),b=t(4697),C=t(2588),S=t(8155),k=t(6934),P=t(2065),O=t(1572),L=t(5403),N=t(184),I=(0,k.ZP)("div")((function(e){var n=e.theme;return(0,o.Z)({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:(0,P.Fq)(n.palette.common.white,.15),"&:hover":{backgroundColor:(0,P.Fq)(n.palette.common.white,.25)},marginLeft:0,width:"100%",display:"flex"},n.breakpoints.up("sm"),{marginLeft:n.spacing(1),width:"auto"})})),F=(0,k.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),E=(0,k.ZP)(O.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,o.Z)({padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function T(){return(0,N.jsxs)(I,{children:[(0,N.jsx)(F,{children:(0,N.jsx)(L.Z,{})}),(0,N.jsx)(E,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})}var A=t(3484),D=t(3997),G=t(5872),q=["Home","Browse"],W=["Profile","Logout"],J=function(){var e=(0,i.s0)(),n=(0,a.useContext)(A.St),t=n.userContext,k=n.setUserContext,P=(0,a.useContext)(A.JT),O=(P.profileContext,P.setProfileContext),L=(0,a.useContext)(A.A9),I=L.cartContext,F=L.setCartContext,E=(0,a.useState)(""),J=(0,s.Z)(E,2),U=J[0],B=J[1];(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("activeUser"));k(e||null)}),[]),(0,a.useEffect)((function(){B(null===I||void 0===I?void 0:I.length)}),[I]);var M=(0,a.useState)(null),z=(0,s.Z)(M,2),R=z[0],H=z[1],K=function(n){"Profile"===n&&e(S.ih),"Logout"===n&&(k(null),O(null),F(null),localStorage.clear(),(0,G.Kz)()),H(null)};function X(n){"HOME"!==n&&"Home"!==n||e(S.Sd),"BROWSE"!==n&&"Browse"!==n||e(S.Xq)}var Y,$=(0,a.useState)({left:!1}),_=(0,s.Z)($,2),Q=_[0],V=_[1],ee=function(e,n){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&V((0,r.Z)((0,r.Z)({},Q),{},(0,o.Z)({},e,n)))}};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.Z,{position:"static",sx:{bgcolor:"black"},children:(0,N.jsx)(g.Z,{maxWidth:"xl",children:(0,N.jsxs)(d.Z,{disableGutters:!0,children:[(0,N.jsx)(w.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,N.jsx)(x.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none",cursor:"pointer"},children:"LOGO"}),(0,N.jsx)(c.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:(0,N.jsx)(u.Z,{size:"large","aria-label":"open navigation bar","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:ee("left",!0),color:"inherit",children:(0,N.jsx)(p.Z,{})})}),(0,N.jsx)(w.Z,{sx:{display:{xs:"none",md:"none"},mr:1}}),(0,N.jsx)(x.Z,{variant:"h5",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),(0,N.jsx)(c.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:q.map((function(e){return(0,N.jsx)(m.Z,{onClick:function(e){X(e.target.innerText)},sx:{my:2,color:"white",display:"block"},children:e},e)}))}),(0,N.jsx)(c.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"flex"}},children:(0,N.jsx)(T,{})}),(0,N.jsx)(c.Z,{sx:{flexGrow:0},children:(0,N.jsx)(u.Z,{size:"large","aria-label":"go to cart page","aria-controls":"go-to-cart","aria-haspopup":"true",onClick:function(){e(S.$L)},color:"inherit",children:(0,N.jsx)(b.Z,{badgeContent:U,color:"primary",children:(0,N.jsx)(C.Z,{})})})}),(null===t||void 0===t?void 0:t.name)&&(0,N.jsxs)(c.Z,{sx:{flexGrow:0},children:[(0,N.jsx)(Z.Z,{title:"Open settings",children:(0,N.jsx)(u.Z,{onClick:function(e){H(e.currentTarget)},sx:{p:0},children:(0,N.jsx)(f.Z,{alt:t.name,src:"#"})})}),(0,N.jsx)(h.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:R,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(R),onClose:K,children:W.map((function(e){return(0,N.jsx)(j.Z,{onClick:function(e){K(e.target.innerText)},children:(0,N.jsx)(x.Z,{textAlign:"center",children:e})},e)}))})]}),!(null!==t&&void 0!==t&&t.name)&&(0,N.jsx)(D.Z,{})]})})}),(0,N.jsx)(v.ZP,{anchor:"left",open:Q.left,onClose:ee("left",!1),children:(Y="left",(0,N.jsxs)(c.Z,{sx:{width:"top"===Y||"bottom"===Y?"auto":250,overflow:"scroll",padding:"1rem",backgroundColor:"#ff6600",height:"100vh",textAlign:"center"},role:"presentation",onClick:ee(Y,!1),onKeyDown:ee(Y,!1),children:[(0,N.jsx)(x.Z,{variant:"h6",noWrap:!0,sx:{textAlign:"center",padding:"1rem",mr:2,display:{xs:"block",md:"none"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"White",textDecoration:"none",margin:"auto"},children:"LOGO"}),(0,N.jsx)(y.Z,{}),q.map((function(e){return(0,N.jsx)(j.Z,{onClick:function(e){X(e.target.innerText)},children:(0,N.jsx)(x.Z,{textAlign:"center",color:"white",sx:{margin:"auto"},children:e})},e)})),(0,N.jsx)(y.Z,{sx:{marginTop:"1rem"}})]}))})]})}},6454:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var o=t(885),r=t(890),s=t(2791),a=t(102),i=t(184);function l(){var e=(0,s.useState)(""),n=(0,o.Z)(e,2),t=n[0],l=n[1];return(0,s.useEffect)((function(){var e=new URLSearchParams(window.location.search);e.get("success")&&l("Order placed! You will receive a confirmation email shortly."),e.get("canceled")&&l("Order canceled -- continue to shop around and checkout when you're ready.")}),[]),(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a.Z,{}),(0,i.jsx)(r.Z,{variant:"h3",sx:{textAlign:"center",margin:"auto",marginTop:"2rem"},children:t})]})}}}]);
//# sourceMappingURL=454.91c4a366.chunk.js.map